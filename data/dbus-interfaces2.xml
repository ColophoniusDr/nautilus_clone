<!DOCTYPE node PUBLIC
"-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
"http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">

<!--
 Copyright (C) 2011 Red Hat, Inc.

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation; either
 version 2 of the License, or (at your option) any later version.

 This library is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 Lesser General Public License for more details.

 You should have received a copy of the GNU Lesser General
 Public License along with this library; if not, see <http://www.gnu.org/licenses/>.

 Author: Alexander Larsson <alexl@redhat.com>
-->

<!--
  org.gnome.Nautilus.FileOperations2:
  @short_description: Nautilus File Operations D-Bus interface

  This API is meant to be consumed by desktop components, and optimized
  for their needs. This API is considered private and must not be used
  by applications.

  All methods takes platform_data argument that can be used to pass
  extra data. Currently supported arguments are:
  - parent-handle (s): the parent window identifier, used to set parent
                       window for dialogs; must be in x11:XID or
                       wayland:HANDLE form
  - timestamp (u): the timestamp of the user interaction
-->
<node xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd">
  <interface name='org.gnome.Nautilus.FileOperations2'>

    <method name='CopyURIs'>
      <arg type='as' name='sources' direction='in'/>
      <arg type='s' name='destination' direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='MoveURIs'>
      <arg type='as' name='sources' direction='in'/>
      <arg type='s' name='destination' direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='EmptyTrash'>
      <arg type="b" name="ask_confirmation" direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='TrashURIs'>
      <arg type='as' name='uris' direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='DeleteURIs'>
      <arg type='as' name='uris' direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='CreateFolder'>
      <arg type='s' name='parent_uri' direction='in'/>
      <arg type='s' name='new_folder_name' direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='RenameURI'>
      <arg type='s' name='uri' direction='in'/>
      <arg type='s' name='new_name' direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='Undo'>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <method name='Redo'>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>
    <!--
      CompressURIs
      @uris: a list of uris to compress in a single file
      @destination: the full path and name of the compressed file to create
      @method: the compression method to use. It must be one of the values
               returned by @GetSupportedCompressMethods
      @platfor_data: extra data.
    -->
    <method name='CompressURIs'>
      <arg type='as' name='uris' direction='in'/>
      <arg type='s' name='destination' direction='in'/>
      <arg type='u' name='method' direction='in'/>
      <arg type='a{sv}' name='platform_data' direction='in'/>
    </method>

    <!--
      GetSupportedCompressMethods
      @methods: an array with the supported compression methods. The string is the
                textual name of the compression method, and the number is the value
                to pass to the @CompressURIs method. Currently, the following known
                values are defined: 0 = .zip, 1 = .tar.xz, 2 = .7z, 3 = .tar.bz2
                But that doesn't mean that all are supported in an specific
                system (e.g. a system lacking the 7zip code won't support .7z)
    -->
    <method name='GetSupportedCompressMethods'>
      <arg type='a{sv}' name='platform_data' direction='in'/>
      <arg type='a{su}' name='methods' direction='out'/>
    </method>

    <property name="UndoStatus" type="i" access="read"/>

  </interface>
</node>
